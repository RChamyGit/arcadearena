<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
          integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link href='https://fonts.googleapis.com/css?family=Abel' rel='stylesheet' type='text/css'>
    <script src="https://kit.fontawesome.com/4dbf725c93.js" crossorigin="anonymous"></script>

    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
    <title>Hello, world!</title>
</head>
<style>
    body{
    background:rgba(14,16,31,1);
     display:flex;
     flex-direction:column;
     justify-content:center;
       font-family: "Abel", sans-serif;
   min-height:100vh;
   padding-top:90px;
   padding-bottom:90px;
   }

    .page_title{
    position:absolute;
    width:100%;
    color:rgba(255,255,255,.33);

    }
    .page_title p{
     margin-top:-17px;
     letter-spacing:5px;
     color:rgba(255,49,109,0.25);
     font-weight:700}




.perfilBox{
background:rgba(222,222,222,1);
color:rgba(255,255,255,.8);
padding:30px;
margin:15px;
justify-content:center;
border-radius:10px;
box-shadow: 2px 2px 8px rgba(0,0,0,.99);
}


.boxPlay{

margin-bottom:4px;
width:100%;
     text-transform: uppercase;
     background:rgba(14,16,31,.55);
          border-radius:7px;
           box-shadow: 2px 2px 8px rgba(0,0,0,.4);

}

.vivo{
border-left:9px solid #3BBD0B;
}

.morto{
border-left:9px solid #C20C1D;
opacity:0.5;
}

.playerName{
color: rgba(255,255,255,0.7);
margin-top:6px;
font-size:14px;
padding:5px;
}

ul{
  list-style-type: none;
         margin:0;
  padding:0;
  }


.input-kills{
width:45px;
background:none;
border:0;
margin-top:5px;
margin-left:-4px;
color:rgba(222,222,222,.5);
}

button:active {
    outline: 0;
    border: 0;
}


select:active {
    outline: 0;
    border: 0;
}
button:focus {outline:0;}
input:focus {outline:0;}

input[type="text"], input[type="password"], textarea, select,button {
    outline: none;
}

.colorBox{
background:rgba(14,16,31,.55);
padding-top:2px;
 border-radius:2px;
 box-shadow: 2px 2px 8px rgba(0,0,0,.1);
}

.flex{display:flex;}

.imgXp{
width:60px;
overflow:hidden;
height:40px;

}

.imgXp img{
margin-top:-23px;
margin-left:-33px;
opacity:.5;
}

.kill{
margin-left:-30px;
font-size:12px;
margin-top:10px;
color:rgba(255,255,255,.5)}


.rankingText{
font-size:12px;
margin:0;
padding:0;
color: rgba(14,16,31,.61);
margin-bottom:9px;

}

.score{
font-size:9px;
color:rgba(255,255,255,.5)
}

.scoreNumero{
font-size:12px;
color:rgba(255,255,255,.7)
}

hr{
height:2px;
border-width:0;
color:rgba(108,21,189,0.7);
background: rgba(108,21,189,0.7);
}

.rankContainer{
height:auto;

}

.partidaBox{
height:70px;
margin-top:10px;
margin-bottom:10px;

width:65px;
   background:rgba(14,16,31,0.6);
display:flex;
     flex-direction:column;
     justify-content:center;
     border-radius:7px;
     box-shadow: 2px 2px 8px rgba(0,0,0,.4);
}

.partidaBox span{
color: rgba(255,255,255,0.4);
font-size:12px;
}


.fillCol{
padding:0;
margin:0;
}

.inputBox input{
width:50px;
background:none;
border:0;
}

.inputBox{
height:30px;

}

.input-inputBox{
    font-size:24px;
    color:rgba(255,255,255,.7);
    margin-top:-5px;
}
.atualizarBox{
margin-left:10px;
width:120px;
height:100%;
display:flex;
     flex-direction:column;
     justify-content:center;
}

.atualizar{
width:100%;
height:100%;
color: rgba(14,16,31,.66);
transition: 1s;
background:none;
pointer-events: none;
border-radius:8px;
border:none;

}

.encerrar{
color: rgba(255,255,255,1);
transition: 1s;
padding:6px;
position:absolute;
margin-left:95px;
margin-top:-70px;
font-size:9px;
opacity:0.77;
background:#ee4540;
border-radius:20px;
}


.encerrar:hover{
color:#fff;

}



.changeStatus{
width:10px;
height:55px;
position:absolute;
margin-top:-10px;
margin-left:-20px;
background:none;
border:0;
}

.headerTitle{
width:100%;
padding:5px;
border-bottom:3px solid rgba(14,16,31,.35);;
margin-bottom:18px;
}

.headerTitle2{
width:100%;
padding:5px;
border-bottom:3px solid rgba(14,16,31,.22);;
margin-bottom:18px;
}

.scoreBox{
width:100%;
padding:2px;
border:2px solid rgba(108,21,189,0.35);
border-radius:7px;
margin-bottom:6px;
}

.scoreBox h6{
color: rgba(255,255,255,0.35);
margin-top:15px;
margin-left:3x;
}

.scoreBox p{
background: rgba(0,0,0,.4);
color:rgba(255,255,255,0.6);
padding:4px;
margin:0;
margin:2px;
font-size:20px;
}

.headerTitle h6{
color:rgba(14,16,31,.35);
position:absolute;
font-size:13px;
background:rgba(222,222,222,1);
padding:5px;
margin-top:40px;
right:70px;
}



.headerTitle2 h5{
color:rgba(14,16,31,.35);
position:absolute;
font-size:13px;
background:rgba(222,222,222,1);
padding:5px;
right:60px;
margin-top:-6px;
}

.headerTitle2 h2{
color:rgba(14,16,31,.55);
margin-top:8px;
font-size:30px;

}





.headerTitle h2{
color:rgba(14,16,31,.55);
margin-top:8px;
font-size:25px;
}

.disabled{
opacity:0.5;
pointer-events: none;

}

.enable{
transform: scale(1.2);
}


.Spinner{
color:rgba(14,16,31,.7);
width: 3rem; height: 3rem;
display:none;
}

ul{
margin-bottom:15px;
}


.channelBox{
position:fixed;
top:105px;
margin-left:45px;
z-index:999999999;
}

.endBox{
position:fixed;
bottom:120px;
margin-left:45px;
z-index:999999999;
background:none;
border:2px solid rgba(255,255,255,.45);
padding:10px;
border-radius:50%;

background:rgba(14,16,31,1);
}

.viewGrup{
position:fixed;
bottom:10px;
right:15px;

}

.linkView{
position:absolute;
right:0;
margin-top:-35px;

z-index:999999999;
}

.channelBox a{
 display:flex;
     flex-direction:column;
     justify-content:center;
}


.transmissao{
padding:9px;
opacity:.6;}

.vd {
margin-left:17px;
}

.check{
background:red;}


.toggle-group {
background: #dc3545;
opacity:0.7;


}

.btn-primary {
    color: #fff;
    background-color: #28a745;
    border-color: #28a745;

}

.btn-primary:hover {
    color: #fff;
    background-color: #28a745;
    border-color: #28a745;
}

#toggle-two{
margin-left:-10px;}


.spintext{
position:absolute;
margin-top:44px;
color:rgba(14,16,31,1);
font-weight:500;
display:none;

}

.on, .off{
cursor:pointer;
opacity:0.7;
}

.on{
background:#ee4540;
border:2px solid rgba(255,255,255,1);
padding:10px;
border-radius:50%;
opacity:0.77;
}


.textON{
position:absolute;
margin-top:80px;
margin-left:7px;
background:#ee4540;
color:rgba(255,255,255,1);
padding:4px;
}


.off{
background:none;
border:2px solid rgba(255,255,255,1);
padding:10px;
border-radius:50%;
opacity:0.45;
}
.off img{
filter: invert(1);
}

.next{
filter: invert(1);
}

.breakRound{
filter: invert(1);
}

.textOFF{
position:absolute;
margin-top:80px;
margin-left:7px;
background:rgba(14,16,31,1);
color:rgba(255,255,255,1);
padding:4px;
}
.textENCERRAR{
position:absolute;
background:rgba(14,16,31,1);
color:rgba(255,255,255,.45);
margin-left:-15px;
}

.playerBoxInt{
margin-bottom:2px;
}

ul {
    display: block;
    list-style-type: none;
    margin-block-start: 0em;
    margin-block-end: 0em;
    margin-inline-start: 0px;
    margin-inline-end: 0px;
    padding-inline-start: 0px;
}


.game{
margin-top:-8px;}




.breakRound{
height: 35px;
opacity:0.8;
cursor:pointer;
opacity:0.45;
}

.navbar{
     background:rgba(14,16,31,1);

}

.navbar a{
color:rgba(255,255,255,.7);
margin-left:15px;
}

.line{
position:fixed;
border:1px solid rgba(255,255,255,1);
height:450px;
opacity:0.45;
left:75px;
top:180px;
}


.topStagecontainer{



}
.round-one .matchup{
width:400px;
margin:20px auto;
background:#e8e8e8;
padding:14px 18px 14px 18px;


}

.current li {
  opacity: 1;
}
.current li.team {
  background-color: #fff;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
  opacity: 1;
}
.round-one .team{
border-radius:5px;
height:40px;
padding:8px;

}
.team {
  padding: 0 5px;
  margin: 3px 0;
  height: 25px;
  line-height: 25px;
  white-space: nowrap;
  overflow: hidden;
  position: relative;
  color:rgba(0,0,0,1);
  width:100%;
}

.team h6{

  color:rgba(0,0,0,1);
  font-size:12px;
}

.scoreA {
  font-size: 12px;
  text-transform: uppercase;
  float: right;
color: #fff;
  font-weight: bold;
  font-family: "Roboto Condensed", sans-serif;
  right: 17px;
  background:rgba(14,16,31,1);;
  width:30px;
  height:30px;
  margin-top:-3px;
  padding:3px;
}
.scoreAx {
  font-size: 11px;
  text-transform: uppercase;
  float: right;
  color: #fff;
  font-weight: bold;
  font-family: "Roboto Condensed", sans-serif;
  right: 17px;
  background:rgba(0,0,0,.12);
  width:30px;
}

.score {
  font-size: 11px;
  text-transform: uppercase;
  color: #000;
  font-weight: bold;
  font-family: "Roboto Condensed", sans-serif;
  width:30px;
  margin-top:-10px;
  position: absolute;
  padding:7px;
  margin-left:-10px;

}

#collapseExample{

}



</style>
<body>
<nav class="navbar fixed-top">
    <a class="navbar-brand" href="/dashboard">
        <!--    <img src="/docs/4.5/assets/brand/bootstrap-solid.svg" width="30" height="30" class="d-inline-block align-top" alt="" loading="lazy">-->
        ARCADE ARENA
    </a>

<div class="viewGrup">
    <p>
        <a class="linkView" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false"
           aria-controls="collapseExample">
            <img style="filter:invert(1); opacity:.5;" src="/static/assets/visao.svg" height="45">
        </a>
    </p>
    <div class="collapse" id="collapseExample">
        <div class="container topStagecontainer text-center" id="faseGrupos">

            <div class="round round-one current">
                <ul id="{{grupo}}" class="matchup">

                </ul>

            </div>
        </div>
    </div>
</div>
</nav>
<div class="channelBox text-left" id="channelBox"></div>
<div class="line"></div>
<div class="endBox text-left" onclick="SubmitStatus()">
    <img class="breakRound" src="/static/assets/bandeira-de-corrida.svg">
    <p class="textENCERRAR">ENCERRAR</p>
</div>


<div class="container-fluid page_title text-center">
    <h1>ARCADE ARENA</h1>
    <p>dashboard</p>
</div>


<div class="container-fluid pd40">
    <!--    <input type="hidden" id="campeonato" name="statusPlayer" value="{{campeonato}}">-->
    <!--    <input type="hidden" id="grupo" name="statusPlayer" value="{{grupo}}">-->
    <input type="hidden" id="url" name="statusPlayer" value="{{url}}">
    <div class="row justify-content-md-center">
        {% for equipe in players %}

        <div class="col-md-auto ">
            <div class="card perfilBox" id="{{equipe.0.idSquad}}hidecontainer">
                <div class="container-fluid headerTitle">
                    <h6>NOME DA EQUIPE || SQUAD</h6>
                    <h2>{{equipe.0.squad}}</h2>
                    <div class="container-fluid text-center" id="{{equipe.0.jogo}}NextSelect">
                        <button id="{{equipe.0.jogo}}" class="btn encerrar"
                                onclick="nextStage( this.id,{{equipe.0.idSquad}} , {{equipe.0.idrank}})">
                            AVANÇAR PARTIDA <img class="next" src="/static/assets/avanco-rapido.svg"
                                                 height="18">
                        </button>
                    </div>
                </div>

                <div class="playerBoxInt">
                    <ul>
                        {% for player in equipe %}
                        <li>
                            <div class="boxPlay vivo" id="{{player.idplayer}}status">
                                <input type="hidden" id="{{player.idplayer}}statusInput" name="statusPlayer"
                                       value="{{player.status}}">
                                <div class="row justify-content-md-center">
                                    <div class="col-6">
                                        <div class="flex">
                                            <div class="changeBox">
                                                <button style="" id="{{player.idplayer}}" type="button"
                                                        class="changeStatus"
                                                        onclick="changeStatus(this.id); return false"></button>
                                            </div>
                                            <div class="">
                                                <h6 class="playerName">{{player.player}}</h6>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-2 colorBox " data-toggle="tooltip" data-placement="top"
                                         title="Atualize as Kills">
                                        <input type="text" class="input-kills text-center"
                                               id="{{player.jogo}}/{{player.idrank}}" name="{{player.jogo}}"
                                               value="{{player.kills}}"
                                               onchange="submitKills(this.value,{{player.idrank}},{{equipe.0.idSquad}},{{equipe.0.idcampeonato}}, this.id, this.name)">

                                        <!--                                    <input type="hidden" class="selectInput" name="{{player.idplayer}}kills"-->
                                        <!--                                           id="{{player.idplayer}}killsSelect" value="{{player.kills}}">-->
                                    </div>
                                    <div class="col-2 ">
                                        <div class="imgXp flex">
                                            <div>
                                                <img src="/static/assets/kill.svg" height="90">
                                            </div>
                                            <div class="kill">
                                                <p>kills</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        {% endfor %}
                    </ul>
                </div>

                <div class="container-fluid headerTitle2">
                    <div class="row">
                        <div class="col-6 text-right">
                            <h2 id="score_partida{{equipe.0.idSquad}}" class="text-center">
                                {{equipe.0.score_equipe}}</h2>
                            <h5>SCORE PARTIDA</h5>
                        </div>
                        <div class="col-6 text-right">
                            <h2 id="score_total{{equipe.0.idSquad}}" class="text-center">{{equipe.0.score_total}}</h2>
                            <h5>SCORE TOTAL</h5>
                        </div>
                    </div>
                </div>


                <div class="container rankContainer text-center">
                    <div class="row">
                        <div class="col-8 fillCol">

                            <div class="row">
                                {% if equipe.0.status != 1 %}
                                <div class="col-4">
                                    <div class="partidaBox {% if equipe.0.jogo == 'R1J1' %}enable{%else%} disabled{%endif%}">
                                        <span>RANK</span>
                                        <span class="game">JOGO 1</span>
                                        {% if equipe.0.jogo == 'R1J1' %}
                                        <div class="inputBox ">
                                            <input type="text"
                                                   id="{% if equipe.0.jogo == 'R1J1' %}{{equipe.0.idSquad}}{{equipe.0.jogo}}rankPartida{%endif%}"
                                                   class="input-inputBox text-center {% if equipe.0.jogo == 'R1J1' %}enable{%else%} disabled{%endif%}"
                                                   name="{{equipe.0.jogo}}"
                                                   onchange="submitRank(this.value, {{equipe.0.idSquad}},{{equipe.0.idrank}},{{equipe.0.idcampeonato}},this.name)"
                                                   value="{{equipe.0.rank_partida}}">
                                        </div>
                                        {%endif%}
                                    </div>
                                </div>
                                <div class="col-4 ">
                                    <div class="partidaBox {% if equipe.0.jogo == 'R1J2' %}enable{%else%} disabled{%endif%}">
                                        <span>RANK</span>
                                        <span class="game">JOGO 2</span>
                                        {% if equipe.0.jogo == 'R1J2' %}
                                        <div class="inputBox ">
                                            <input type="text"
                                                   id="{% if equipe.0.jogo == 'R1J2' %}{{equipe.0.idSquad}}{{equipe.0.jogo}}rankPartida{%endif%}"
                                                   class="input-inputBox text-center {% if equipe.0.jogo == 'R1J2' %}enable{%else%} disabled{%endif%}"
                                                   name="{{equipe.0.jogo}}"
                                                   onchange="submitRank(this.value, {{equipe.0.idSquad}},{{equipe.0.idrank}},{{equipe.0.idcampeonato}},this.name)"
                                                   value="{{equipe.0.rank_partida}}">
                                        </div>
                                        {%endif%}
                                    </div>
                                </div>
                                <div class="col-4 ">
                                    <div class="partidaBox {% if equipe.0.jogo == 'R1J3' %}enable{%else%} disabled{%endif%}">
                                        <span>RANK</span>
                                        <span class="game">JOGO 3</span>
                                        {% if equipe.0.jogo == 'R1J3' %}
                                        <div class="inputBox ">
                                            <input type="text"
                                                   id="{% if equipe.0.jogo == 'R1J3' %}{{equipe.0.idSquad}}{{equipe.0.jogo}}rankPartida{%endif%}"
                                                   class="input-inputBox text-center {% if equipe.0.jogo == 'R1J3' %}enable{%else%} disabled{%endif%}"
                                                   name="{{equipe.0.jogo}}"
                                                   onchange="submitRank(this.value, {{equipe.0.idSquad}},{{equipe.0.idrank}},{{equipe.0.idcampeonato}},this.name)"
                                                   value="{{equipe.0.rank_partida}}">
                                        </div>
                                        {%endif%}
                                    </div>
                                </div>
                                {% endif %}
                            </div>
                            <!--                            <p class="rankingText">POSIÇÃO DA EQUIPE NA PARTIDA</p>-->

                        </div>
                        <div class="col-4 fillCol">
                            <div class="container-fluid atualizarBox">
                                <button id="{{equipe.0.idSquad}}hide"
                                        class=" atualizar">
                                    <img class="img" src="/static/assets/videogame.svg" height="60">
                                </button>
                                <div class="d-flex justify-content-center">
                                    <div id="{{equipe.0.idSquad}}hideSpinner" class="spinner-grow Spinner"
                                         role="status">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    <!--                                    <p id="{{equipe.0.idSquad}}hideSpinnerText" class="spintext">SALVANDO...</p>-->
                                </div>
                            </div>


                        </div>
                    </div>

                </div>


            </div>
        </div>
        {% endfor %}
    </div>

</div>


<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
        crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"
        integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I=" crossorigin="anonymous"></script>


</body>
<script>

var socket = io.connect('http://' + document.domain + ':' + location.port) ;


function APIChannel(data){
socket.emit('refresh_channel', data);
}



function APIkills(data){
SpinningStart(data.idsquad);
socket.emit('refresh_kills', data);
}






function APIRank(data){
SpinningStart(data.idsquad);
socket.emit('refresh_rank', data);
}

function APIGame(data){
socket.emit('refresh_game', data);
SpinningStart(data.idsquad);
}










    socket.on('score_stream', function(data){
   reloadScore(data)
        SpinningStop(data[0]);

        var partida = data[4];
        console.log(partida);
        partida.forEach(function(e) {
        document.getElementById(data[0]+ 'R1J1').innerHTML = e[11];
        document.getElementById(data[0]+ 'R1J2').innerHTML = e[12];
        document.getElementById(data[0]+ 'R1J3').innerHTML = e[13];
        var round1_j1 = e[11];
        var round1_j2 = e[12];
        var round1_j3 = e[13];
        document.getElementById(data[0]+'total_input').innerHTML = parseInt(round1_j1) + parseInt(round1_j2) + parseInt(round1_j3);;

})
   })



  socket.on('change round', function(data){
    setTimeout(function(){// wait for 5 secs(2)
           location.reload(); // then reload the page.(3)
      }, 1);
   })










function SpinningStart(idsquad){
document.getElementById(idsquad+'hide').style.display = 'none';
document.getElementById(idsquad+'hideSpinner').style.display = 'block';


}

function SpinningStop(idsquad){
document.getElementById(idsquad+'hide').style.display = 'block';
document.getElementById(idsquad+'hideSpinner').style.display = 'none';

}








function reloadScore(data){
document.getElementById('score_partida'+data[0]).innerHTML = data[1];
document.getElementById('score_total'+data[0]).innerHTML = data[2];
}



$(document).ready(function () {
data = [ {{listaSquad | tojson }},
{{idcampeonato| tojson }},
{{grupo | tojson }}

]
socket.emit('get Channel', data);
})



socket.on('reload_statusChannel1', function(msg){
var checkMsg = msg['status_channel1']
document.getElementById('channelBox').innerHTML = '';
console.log(checkMsg);
if (checkMsg == 'on'){
            var a = document.createElement("a");
             a.setAttribute('name', '{{idcampeonato}}');
             a.setAttribute('id', 'off');
             a.setAttribute('class', 'on');
             a.setAttribute('onclick', 'submitVideo(this.id ,{{listaSquad | tojson}} , this.name )')
              var img = document.createElement("img");
             img.setAttribute('src', '/static/assets/viver.svg');
             img.setAttribute('height', '40px');
              a.appendChild(img);
             document.getElementById('channelBox').appendChild(a);

}

if (checkMsg == 'off'){
   var a = document.createElement("a");
             a.setAttribute('name', '{{idcampeonato}}');
             a.setAttribute('id', 'on');
             a.setAttribute('class', 'off');
             a.setAttribute('onclick', 'submitVideo(this.id ,{{listaSquad | tojson}} , this.name )')
              var img = document.createElement("img");
             img.setAttribute('src', '/static/assets/video-chamada.svg');
             img.setAttribute('height', '40px');
             var text = document.createElement("p");
             text.setAttribute('class', 'textOFF');
             var textnode = document.createTextNode('OFF');
             text.appendChild(textnode);


             a.appendChild(img);
             a.appendChild(text);

             document.getElementById('channelBox').appendChild(a);
}
  console.log(msg)
   })


function submitVideo(this_id,Lista_idSquads, campeonato){
    data = {
    'Lista_idSquads': Lista_idSquads,
    'campeonato': campeonato,
    'stream': this_id
    }

console.log(data);
    APIChannel(data);
}


function submitKills(this_value, idrank, idsquad,idcampeonato,jogo_ativo,this_name){


var colocacao = document.getElementById(idsquad+this_name+'rankPartida').value;





data = {
'idsquad': idsquad,
'kills': this_value,
'idrank': idrank,
'colocacao_partida': colocacao,
'idcampeonato': idcampeonato,
'jogo_ativo':jogo_ativo
}
APIkills(data);

};


function submitRank(this_value, idsquad, idrank, idcampeonato,jogo){
console.log(jogo);
data = {
'idsquad': idsquad,
'rank_partida': this_value,
'idrank': idrank,
'idcampeonato': idcampeonato,
'jogo':jogo
}
APIRank(data)
};


function nextStage(this_id ,idsquad, idrank){
data = {
'idsquad': idsquad,
'jogo': this_id,
'idrank': idrank
}
APIGame(data)
};




    function changeStatus(this_id){
         var element =  document.getElementById(this_id+"status");
         var inputChange = document.getElementById(this_id+"statusInput").value;
            if(inputChange == 'False'){
    element.classList.remove("morto");
    element.classList.add("vivo");
    document.getElementById(this_id+"statusInput").value = 'True';
    }
     if(inputChange == 'True'){
      element.classList.remove("vivo");
     element.classList.add("morto");
     document.getElementById(this_id+"statusInput").value = 'False';
     }
}








function SubmitStatus(){
data = [ {{listaSquad | tojson }},
{{idcampeonato| tojson }},
{{grupo | tojson }}]


socket.emit('change status bracket', data);

}























$(document).ready(function () {
var myGeocode = [{{ partidas|tojson }}];
myGeocode.forEach(function(x) {
x.forEach(function(e) {

var round1_j1 = e[11];
var round1_j2 = e[12];
var round1_j3 = e[13];

var round2_j1 = e[14];
var round2_j2 = e[15];

var round3_j1 = e[16];
var round3_j2 = e[17];

var round4_j1 = e[18];
var round4_j2 = e[19];

var round5_j1 = e[20];
var round5_j2 = e[21];

var bracket = e[9];

var jogo_ativo = e[26];
var posicao = e[28];
var name = e[4];
var grupo = e[22];

    if (bracket == 1){
            if (!round2_j1 ){
            document.getElementById(posicao).innerHTML = name;
            document.getElementById(posicao+'score').innerHTML  = parseInt(round2_j1) + parseInt(round2_j2);
            }

            if (!round3_j1 ){
            document.getElementById(posicao).innerHTML = name;
            document.getElementById(posicao+'score').innerHTML  = parseInt(round3_j1) + parseInt(round3_j2);
            }
            if (!round4_j1 ){
            document.getElementById(posicao).innerHTML = name;
            document.getElementById(posicao+'score').innerHTML  = parseInt(round4_j1) + parseInt(round4_j2);
            }

            if (!round5_j1 ){
            document.getElementById(posicao).innerHTML = name;
            document.getElementById(posicao+'score').innerHTML  = parseInt(round5_j1) + parseInt(round5_j2);
            }

    }








if (bracket != 1){

        var soma = parseInt(round1_j1) + parseInt(round1_j2) + parseInt(round1_j3);
         var li = document.createElement("li");
            li.setAttribute('class', 'team team-top');
            li.setAttribute('data-percentage', soma);
            li.setAttribute('id', e[3]);
            var textnode = document.createTextNode(e[4]);
            li.appendChild(textnode);


             var span = document.createElement("span");
             span.setAttribute('class', 'scoreA');
             span.setAttribute('id', e[3]+'total_input');
             var textnode2 = document.createTextNode(soma);
             span.appendChild(textnode2);
             li.appendChild(span);


                var span3 = document.createElement("span");
             span3.setAttribute('class', 'scoreAx');
              span3.setAttribute('id', e[3]+'R1J3');
             var textnode13 = document.createTextNode(parseInt(round1_j3));
             span3.appendChild(textnode13);
             li.appendChild(span3)


                var span2 = document.createElement("span");
             span2.setAttribute('class', 'scoreAx');
              span2.setAttribute('id', e[3]+'R1J2');
             var textnode12 = document.createTextNode(parseInt(round1_j2));
             span2.appendChild(textnode12);
             li.appendChild(span2);



            var span1 = document.createElement("span");
             span1.setAttribute('class', 'scoreAx');
              span1.setAttribute('id', e[3]+'R1J1');
             var textnode11 = document.createTextNode(parseInt(round1_j1));
             span1.appendChild(textnode11);
             li.appendChild(span1);
             document.getElementById(grupo).appendChild(li)






}


    })

})
})









</script>
</html>